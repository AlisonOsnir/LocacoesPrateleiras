<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<html lang="pt-br">

<head>
  <title>Locações PTH</title>
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="style.css">
  <script src="function.js"></script>
  <script src="locacoesobj.js"></script>

</head>

<body>
  <main>
    <h1 class="tituloPrincipal">LOCAÇÕES PTH</h1>
    <canvas class="backgroundimg" width="940" height="529">
      your browser does not support HTML5 Canvas.
    </canvas>

    <form id="formulario">
      <label for="floc" id="labelloc">Locação</label>
      <input type="text" id="floc" name="floc" required>
      <input type="text" id="flocname" name="flocname" readOnly=true required>

      <label for="fprod" id="labelcod">Cod. produto</label>
      <input type="text" id="fprod" name="fprod" required>

      <p>status do material</p>
      <section class="radio">
        <input type="radio" id="fstatus" name="fstatus" value="Liberado">
        <label for="Liberado" id="fstatus">Liberado</label><br>

        <input type="radio" id="fstatus" name="fstatus" value="Produção">
        <label for="Produção" id="fstatus">Produção</label><br>

        <input type="radio" id="fstatus" name="fstatus" value="Parado">
        <label for="Parado" id="fstatus">Parado</label><br><br>
      </section>
      <input type="submit" id="salvar" value="Salvar">
    </form>
  </main>
</body>

</html>

<script>
  //CANVAS
  var canvas = document.querySelector("canvas");
  var ctx = canvas.getContext("2d");

  var canvas2 = document.createElement('canvas')
  canvas2.setAttribute("width", "940");
  canvas2.setAttribute("height", "529");
  var ctx2 = canvas2.getContext('2d');

  var background = new Image();
  background.src = "estantes.png";

  background.onload = function () {
    ctx.drawImage(background, 0, 0);
    ctx.drawImage(canvas2, 0, 0,);
  }

  //INPUT_EVENTO FORMULÁRIO
  let form = document.getElementById('formulario');
  let floc = document.getElementById("floc");
  let flocname = document.getElementById("flocname");
  let fprod = document.getElementById("fprod");
  let fstatus = document.getElementById("fstatus");

  form.addEventListener('submit', function (evt) {
    evt.preventDefault()

    let i = areaSelecionada;
    locacoesObj[i]["produto"] = fprod.value;
    locacoesObj[i]["status"] = fstatus.value;
    if (locacoesObj[i]["status"]) { locacoesObj[i]["disp"] = false };

    tornaIndisp(...locacoesObj[i]['area'], locacoesObj[i]['produto'])
  });

  //VARIAVEIS E CHAMADAS
  const areasAB = 26;
  const keyList = Object.keys(locacoesObj);

  canvas.onclick = selecionaArea;
  //varreduraDisp()

</script>